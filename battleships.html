<head>
  <title>battleships</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->
</head>

<body>
  <div class="container">
    {{#if currentUser}}
      {{> lobby}}
    {{else}}
      {{> loginPage}}
    {{/if}}

    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </div>
</body>

<template name="lobby">
<h1>Hello {{name}}!</h1>
  {{greeting}}


</template>

<template name="loginPage">
<div id=loginForms>
  {{#if requestRecovery}}
    {{> recover-password}}
  {{else}}
    {{#if newPassword}}
      {{> new-password}}
      {{else}}
        {{> login}}
        {{> register}}
    {{/if}}
  {{/if}}
</div>
</template>

<template name="login">
<form class="login-form" role="form">
  <h2 class="login-form-heading">Sign in</h2>
  <input type="text" class="form-control" id="login-email" placeholder="Email address" required autofocus>
  <input type="password" class="form-control" id="login-password" placeholder="Password" required>
  <label class="checkbox">
    <input type="checkbox" value="remember-me"> Remember me
  </label>
  <button class="btn btn-lg btn-primary btn-block" type="submit" id="login-button">Sign in</button>
  <button class="btn btn-lg btn-primary btn-block" id="forgot-button">Forgot Password</button>
</form>
</template>

<template name="register">
<form class="register-form" role="form">
  <h2 class="register-form-heading">Register</h2>
  <input type="text" class="form-control" id="register-name" placeholder="Full Name" required autofocus>
  <input type="text" class="form-control" id="register-email"placeholder="Email address" required autofocus>
  <input type="password" class="form-control" id="register-password" placeholder="Password" required>
  <button class="btn btn-lg btn-primary btn-block" type="submit" id="register-button">Register</button>
</form>
</template>

<template name="new-password">
<h2>Enter your new password</h2>
  <form id="new-password" action="action">
      <input type="text" class="form-control" id="new-password" placeholder="New Password" required/>
      <button class="btn btn-lg btn-primary btn-block" type="submit" id="new-password-button">Change Password</button>
  </form>
</template>

<template name="recover-password">
  <h2>Recover your password</h2>
  <form id="recovery-request-form" action="action">
    <input type="text" id="recovery-email" />              
    <button class="btn btn-lg btn-primary btn-block" type="submit" id="request-recovery-button">Send Reset Instructions</button>
  </form>
</template>

<template name="messages">
{{#each messages}}
<strong>{{name}}:</strong> {{message}}<br>
{{/each}}
</template>
